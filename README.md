## lushan

### 简介
lushan是一个基于memcached协议的、轻量级的、可挂载多个库的key-value存储系统。它具有如下特点：

1. memcached协议，这样可以充分利用现在memcached的多语言客户端。
2. 可挂载多个库，只需要把hdict格式的文件传到指定编号目录下即可，不需要每次部署、重启等。这让整个系统可以集群化管理。
3. 具有清晰的统计信息和展示页面。
4. 高性能，利用memcached一样的IO多路复用模型，尽量少的内存拷贝，细致的超时处理。
5. 完美的hadoop配合，配置了LushanFileOutputFormat文件，可以直接生成hdict格式的可挂载库。
6. 传输库的框架download.py，可以支持本地生成hdict文件传输到集群，以及在集群上从hadoop取文件。


###  起源

写lushan是起源于微博一个错过的微博推荐的项目，当时要尝试很多种算法进行对比测试。如果每种算法生成的库都部署一套会非常费劲，我想有一个redis那样部署好的，生成新的库，只需要写到一个编号里就可以了。结合自己以前从事搜索的经验，这个时候我们需要的是一个deamon进程，生成好的库直接挂载上去即可，deamon进程始终存在，库可以挂载、卸载、替换。结合自己有memcached代码修改的经验，写了这个lushan的系统。

后来成了推荐数据管理的基础，两个集群分别12台机器，6台一列，一个集群2列。管理了3T的在线查询数据。...（待续）

